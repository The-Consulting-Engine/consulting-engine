{
  "vertical_id": "restaurant_v1",
  "vertical_name": "Restaurant Operations",
  "data_packs": [
    {
      "pack_type": "PNL",
      "description": "Monthly Profit & Loss statement",
      "fields": [
        {
          "name": "month",
          "required": true,
          "synonyms": ["period", "date", "month_year", "accounting_period"],
          "field_type": "date",
          "description": "Month identifier"
        },
        {
          "name": "revenue_total",
          "required": true,
          "synonyms": ["total_revenue", "sales", "total_sales", "gross_revenue"],
          "field_type": "numeric",
          "description": "Total revenue"
        },
        {
          "name": "cogs",
          "required": false,
          "synonyms": ["cost_of_goods_sold", "food_cost", "beverage_cost", "cogs_total"],
          "field_type": "numeric",
          "description": "Cost of goods sold"
        },
        {
          "name": "labor_total",
          "required": false,
          "synonyms": ["total_labor", "payroll", "labor_cost", "wages"],
          "field_type": "numeric",
          "description": "Total labor cost"
        },
        {
          "name": "rent",
          "required": false,
          "synonyms": ["rent_expense", "occupancy", "lease"],
          "field_type": "numeric",
          "description": "Rent expense"
        },
        {
          "name": "utilities",
          "required": false,
          "synonyms": ["utility_expense", "utilities_total"],
          "field_type": "numeric",
          "description": "Utilities expense"
        },
        {
          "name": "marketing",
          "required": false,
          "synonyms": ["advertising", "marketing_expense", "promo"],
          "field_type": "numeric",
          "description": "Marketing expense"
        },
        {
          "name": "other_expenses",
          "required": false,
          "synonyms": ["other", "misc", "general_expense"],
          "field_type": "numeric",
          "description": "Other expenses"
        }
      ]
    },
    {
      "pack_type": "REVENUE",
      "description": "Detailed revenue data from POS or invoices",
      "fields": [
        {
          "name": "transaction_date",
          "required": true,
          "synonyms": ["date", "sale_date", "order_date", "timestamp"],
          "field_type": "date",
          "description": "Transaction date"
        },
        {
          "name": "amount",
          "required": true,
          "synonyms": ["total", "sale_amount", "revenue", "gross_sales"],
          "field_type": "numeric",
          "description": "Transaction amount"
        },
        {
          "name": "category",
          "required": false,
          "synonyms": ["revenue_category", "segment", "department", "product_type"],
          "field_type": "text",
          "description": "Revenue category"
        },
        {
          "name": "discount",
          "required": false,
          "synonyms": ["discount_amount", "promo_amount", "comp"],
          "field_type": "numeric",
          "description": "Discount amount"
        },
        {
          "name": "transaction_count",
          "required": false,
          "synonyms": ["covers", "tickets", "orders", "guest_count"],
          "field_type": "numeric",
          "description": "Number of transactions/covers"
        }
      ]
    },
    {
      "pack_type": "LABOR",
      "description": "Labor and payroll data",
      "fields": [
        {
          "name": "pay_period_start",
          "required": true,
          "synonyms": ["period_start", "start_date", "from_date"],
          "field_type": "date",
          "description": "Pay period start date"
        },
        {
          "name": "pay_period_end",
          "required": true,
          "synonyms": ["period_end", "end_date", "to_date"],
          "field_type": "date",
          "description": "Pay period end date"
        },
        {
          "name": "total_hours",
          "required": false,
          "synonyms": ["hours", "hours_worked", "total_hours_worked"],
          "field_type": "numeric",
          "description": "Total hours worked"
        },
        {
          "name": "total_pay",
          "required": true,
          "synonyms": ["gross_pay", "wages", "payroll", "total_wages"],
          "field_type": "numeric",
          "description": "Total pay amount"
        },
        {
          "name": "employee_count",
          "required": false,
          "synonyms": ["headcount", "employees", "staff_count"],
          "field_type": "numeric",
          "description": "Number of employees"
        },
        {
          "name": "role",
          "required": false,
          "synonyms": ["position", "job_title", "department"],
          "field_type": "text",
          "description": "Employee role"
        }
      ]
    }
  ],
  "signals": [
    {
      "signal_id": "labor_pct",
      "label": "Labor as % of Revenue",
      "requires": ["revenue_total", "labor_total"],
      "formula": "labor_total / revenue_total * 100"
    },
    {
      "signal_id": "cogs_pct",
      "label": "COGS as % of Revenue",
      "requires": ["revenue_total", "cogs"],
      "formula": "cogs / revenue_total * 100"
    },
    {
      "signal_id": "revenue_trend",
      "label": "Revenue Growth Trend",
      "requires": ["revenue_total"],
      "formula": "linear_regression"
    },
    {
      "signal_id": "labor_volatility",
      "label": "Labor Cost Volatility",
      "requires": ["labor_total"],
      "formula": "coefficient_of_variation"
    }
  ],
  "initiatives": [
    {
      "id": "rest_pricing_discipline",
      "title": "Implement Pricing Discipline",
      "category": "Revenue Optimization",
      "description": "Review and optimize menu pricing based on COGS and competitive positioning",
      "eligibility_rules": {
        "min_months": 3,
        "requires_signals": ["cogs_pct"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.02,
        "mid": 0.05,
        "high": 0.08
      },
      "priority_weight": 1.2
    },
    {
      "id": "rest_labor_scheduling",
      "title": "Optimize Labor Scheduling",
      "category": "Labor Efficiency",
      "description": "Align labor hours with demand patterns to reduce overstaffing",
      "eligibility_rules": {
        "min_months": 2,
        "requires_signals": ["labor_pct"]
      },
      "sizing_method": "percentage_of_labor",
      "sizing_params": {
        "low": 0.05,
        "mid": 0.10,
        "high": 0.15
      },
      "priority_weight": 1.3
    },
    {
      "id": "rest_discount_control",
      "title": "Reduce Discount Leakage",
      "category": "Revenue Optimization",
      "description": "Implement controls on discounts and comps to protect margins",
      "eligibility_rules": {
        "min_months": 2,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 5000,
        "mid": 12000,
        "high": 20000
      },
      "priority_weight": 1.1
    },
    {
      "id": "rest_throughput",
      "title": "Increase Table Turnover",
      "category": "Operations",
      "description": "Reduce service time and increase covers per shift",
      "eligibility_rules": {
        "min_months": 3,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.03,
        "mid": 0.07,
        "high": 0.12
      },
      "priority_weight": 1.0
    },
    {
      "id": "rest_overhead_reduction",
      "title": "Reduce Overhead Costs",
      "category": "Cost Control",
      "description": "Negotiate vendor contracts and reduce fixed expenses",
      "eligibility_rules": {
        "min_months": 3,
        "requires_data": ["PNL"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 3000,
        "mid": 8000,
        "high": 15000
      },
      "priority_weight": 0.9
    },
    {
      "id": "rest_waste_reduction",
      "title": "Minimize Food Waste",
      "category": "Cost Control",
      "description": "Implement inventory controls and prep optimization to reduce waste",
      "eligibility_rules": {
        "min_months": 2,
        "requires_signals": ["cogs_pct"]
      },
      "sizing_method": "percentage_of_cogs",
      "sizing_params": {
        "low": 0.03,
        "mid": 0.06,
        "high": 0.10
      },
      "priority_weight": 1.0
    },
    {
      "id": "rest_peak_pricing",
      "title": "Implement Dynamic Pricing",
      "category": "Revenue Optimization",
      "description": "Adjust pricing for peak and off-peak periods",
      "eligibility_rules": {
        "min_months": 4,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.02,
        "mid": 0.04,
        "high": 0.07
      },
      "priority_weight": 0.8
    }
  ],
  "default_assumptions": {
    "min_confidence_for_ops_mode": 0.7,
    "min_confidence_for_pnl_mode": 0.6,
    "max_initiatives_directional": 3,
    "max_initiatives_ops": 5,
    "max_initiatives_pnl": 7,
    "months_for_trend": 6,
    "outlier_std_threshold": 2.5
  }
}
