{
  "vertical_id": "restaurant_v1",
  "vertical_name": "Restaurant Operations",
  "data_packs": [
    {
      "pack_type": "PNL",
      "description": "Monthly Profit & Loss statement",
      "fields": [
        {
          "name": "month",
          "required": true,
          "synonyms": ["period", "date", "month_year", "accounting_period"],
          "field_type": "date",
          "description": "Month identifier"
        },
        {
          "name": "revenue_total",
          "required": true,
          "synonyms": ["total_revenue", "sales", "total_sales", "gross_revenue"],
          "field_type": "numeric",
          "description": "Total revenue"
        },
        {
          "name": "cogs",
          "required": false,
          "synonyms": ["cost_of_goods_sold", "food_cost", "beverage_cost", "cogs_total"],
          "field_type": "numeric",
          "description": "Cost of goods sold"
        },
        {
          "name": "labor_total",
          "required": false,
          "synonyms": ["total_labor", "payroll", "labor_cost", "wages"],
          "field_type": "numeric",
          "description": "Total labor cost"
        },
        {
          "name": "rent",
          "required": false,
          "synonyms": ["rent_expense", "occupancy", "lease"],
          "field_type": "numeric",
          "description": "Rent expense"
        },
        {
          "name": "utilities",
          "required": false,
          "synonyms": ["utility_expense", "utilities_total"],
          "field_type": "numeric",
          "description": "Utilities expense"
        },
        {
          "name": "marketing",
          "required": false,
          "synonyms": ["advertising", "marketing_expense", "promo"],
          "field_type": "numeric",
          "description": "Marketing expense"
        },
        {
          "name": "other_expenses",
          "required": false,
          "synonyms": ["other", "misc", "general_expense"],
          "field_type": "numeric",
          "description": "Other expenses"
        }
      ]
    },
    {
      "pack_type": "REVENUE",
      "description": "Detailed revenue data from POS or invoices",
      "fields": [
        {
          "name": "transaction_date",
          "required": true,
          "synonyms": ["date", "sale_date", "order_date", "timestamp"],
          "field_type": "date",
          "description": "Transaction date"
        },
        {
          "name": "amount",
          "required": true,
          "synonyms": ["total", "sale_amount", "revenue", "gross_sales"],
          "field_type": "numeric",
          "description": "Transaction amount"
        },
        {
          "name": "category",
          "required": false,
          "synonyms": ["revenue_category", "segment", "department", "product_type"],
          "field_type": "text",
          "description": "Revenue category"
        },
        {
          "name": "discount",
          "required": false,
          "synonyms": ["discount_amount", "promo_amount", "comp"],
          "field_type": "numeric",
          "description": "Discount amount"
        },
        {
          "name": "transaction_count",
          "required": false,
          "synonyms": ["covers", "tickets", "orders", "guest_count"],
          "field_type": "numeric",
          "description": "Number of transactions/covers"
        }
      ]
    },
    {
      "pack_type": "LABOR",
      "description": "Labor and payroll data",
      "fields": [
        {
          "name": "pay_period_start",
          "required": true,
          "synonyms": ["period_start", "start_date", "from_date"],
          "field_type": "date",
          "description": "Pay period start date"
        },
        {
          "name": "pay_period_end",
          "required": true,
          "synonyms": ["period_end", "end_date", "to_date"],
          "field_type": "date",
          "description": "Pay period end date"
        },
        {
          "name": "total_hours",
          "required": false,
          "synonyms": ["hours", "hours_worked", "total_hours_worked"],
          "field_type": "numeric",
          "description": "Total hours worked"
        },
        {
          "name": "total_pay",
          "required": true,
          "synonyms": ["gross_pay", "wages", "payroll", "total_wages"],
          "field_type": "numeric",
          "description": "Total pay amount"
        },
        {
          "name": "employee_count",
          "required": false,
          "synonyms": ["headcount", "employees", "staff_count"],
          "field_type": "numeric",
          "description": "Number of employees"
        },
        {
          "name": "role",
          "required": false,
          "synonyms": ["position", "job_title", "department"],
          "field_type": "text",
          "description": "Employee role"
        }
      ]
    }
  ],
  "signals": [
    {
      "signal_id": "labor_pct",
      "label": "Labor as % of Revenue",
      "requires": ["revenue_total", "labor_total"],
      "formula": "labor_total / revenue_total * 100"
    },
    {
      "signal_id": "cogs_pct",
      "label": "COGS as % of Revenue",
      "requires": ["revenue_total", "cogs"],
      "formula": "cogs / revenue_total * 100"
    },
    {
      "signal_id": "revenue_trend",
      "label": "Revenue Growth Trend",
      "requires": ["revenue_total"],
      "formula": "linear_regression"
    },
    {
      "signal_id": "labor_volatility",
      "label": "Labor Cost Volatility",
      "requires": ["labor_total"],
      "formula": "coefficient_of_variation"
    }
  ],
  "initiatives": [
    {
      "id": "rest_pricing_discipline",
      "title": "Implement Pricing Discipline",
      "category": "Revenue Optimization",
      "description": "Review and optimize menu pricing based on COGS and competitive positioning",
      "eligibility_rules": {
        "min_months": 3,
        "requires_signals": ["cogs_pct"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.02,
        "mid": 0.05,
        "high": 0.08
      },
      "priority_weight": 1.2
    },
    {
      "id": "rest_labor_scheduling",
      "title": "Optimize Labor Scheduling",
      "category": "Labor Efficiency",
      "description": "Align labor hours with demand patterns to reduce overstaffing",
      "eligibility_rules": {
        "min_months": 2,
        "requires_signals": ["labor_pct"]
      },
      "sizing_method": "percentage_of_labor",
      "sizing_params": {
        "low": 0.05,
        "mid": 0.10,
        "high": 0.15
      },
      "priority_weight": 1.3
    },
    {
      "id": "rest_discount_control",
      "title": "Reduce Discount Leakage",
      "category": "Revenue Optimization",
      "description": "Implement controls on discounts and comps to protect margins",
      "eligibility_rules": {
        "min_months": 2,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 5000,
        "mid": 12000,
        "high": 20000
      },
      "priority_weight": 1.1
    },
    {
      "id": "rest_throughput",
      "title": "Increase Table Turnover",
      "category": "Operations",
      "description": "Reduce service time and increase covers per shift",
      "eligibility_rules": {
        "min_months": 3,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.03,
        "mid": 0.07,
        "high": 0.12
      },
      "priority_weight": 1.0
    },
    {
      "id": "rest_overhead_reduction",
      "title": "Reduce Overhead Costs",
      "category": "Cost Control",
      "description": "Negotiate vendor contracts and reduce fixed expenses",
      "eligibility_rules": {
        "min_months": 3,
        "requires_data": ["PNL"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 3000,
        "mid": 8000,
        "high": 15000
      },
      "priority_weight": 0.9
    },
    {
      "id": "rest_waste_reduction",
      "title": "Minimize Food Waste",
      "category": "Cost Control",
      "description": "Implement inventory controls and prep optimization to reduce waste",
      "eligibility_rules": {
        "min_months": 2,
        "requires_signals": ["cogs_pct"]
      },
      "sizing_method": "percentage_of_cogs",
      "sizing_params": {
        "low": 0.03,
        "mid": 0.06,
        "high": 0.10
      },
      "priority_weight": 1.0
    },
    {
      "id": "rest_peak_pricing",
      "title": "Implement Dynamic Pricing",
      "category": "Revenue Optimization",
      "description": "Adjust pricing for peak and off-peak periods",
      "eligibility_rules": {
        "min_months": 4,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "percentage_of_revenue",
      "sizing_params": {
        "low": 0.02,
        "mid": 0.04,
        "high": 0.07
      },
      "priority_weight": 0.8
    },
    {
      "id": "rest_local_marketing",
      "title": "Local Marketing Experiment",
      "category": "Marketing",
      "type": "MARKETING",
      "description": "Test local marketing channels to drive new customer acquisition",
      "eligibility_rules": {
        "min_months": 2,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 8000,
        "mid": 20000,
        "high": 40000
      },
      "priority_weight": 1.0,
      "plan_schema": {
        "channel": "TBD - Google Maps, Social Media, or Local Partnerships",
        "target_audience": "Local residents within 3-mile radius",
        "timing_window": "4-week test period",
        "offer_type": "Limited-time promotion or trial offer",
        "budget_range": "$1000-$2500 for test",
        "success_metric": "Cost per new customer < $25, 20% repeat rate",
        "test_design": "A/B test with tracking codes",
        "setup_steps": [
          "Define specific offer and targeting",
          "Set up tracking (promo codes or dedicated landing page)",
          "Run campaign for 4 weeks",
          "Measure new customer acquisition and retention",
          "Calculate ROI and scale if positive"
        ]
      }
    },
    {
      "id": "rest_sms_reactivation",
      "title": "SMS/Email Reactivation Campaign",
      "category": "Marketing",
      "type": "MARKETING",
      "description": "Re-engage lapsed customers through targeted messaging",
      "eligibility_rules": {
        "min_months": 3,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 5000,
        "mid": 15000,
        "high": 30000
      },
      "priority_weight": 0.9,
      "plan_schema": {
        "channel": "SMS or Email (based on available customer data)",
        "target_audience": "Customers who haven't visited in 60-90 days",
        "timing_window": "6-week campaign",
        "offer_type": "Comeback incentive (e.g., $10 off next visit)",
        "budget_range": "$500-$1500 (offer cost + platform fees)",
        "success_metric": "15% reactivation rate, positive ROI within 30 days",
        "test_design": "Segment customers by recency, test offer variations",
        "setup_steps": [
          "Identify lapsed customers from POS data",
          "Set up SMS/email platform if needed",
          "Design 2-3 message variations",
          "Send initial campaign wave",
          "Track redemption and repeat visits"
        ]
      }
    },
    {
      "id": "rest_google_optimization",
      "title": "Google Maps Conversion Optimization",
      "category": "Marketing",
      "type": "MARKETING",
      "description": "Optimize Google Business Profile to increase walk-in traffic",
      "eligibility_rules": {
        "min_months": 1,
        "requires_data": []
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 3000,
        "mid": 10000,
        "high": 20000
      },
      "priority_weight": 1.1,
      "plan_schema": {
        "channel": "Google Business Profile / Google Maps",
        "target_audience": "Local searchers looking for dining options",
        "timing_window": "Ongoing optimization, 8-week test",
        "offer_type": "No direct offer - focus on profile optimization",
        "budget_range": "$0-$300 (photos, content creation)",
        "success_metric": "20% increase in profile views and direction requests",
        "test_design": "Before/after comparison of Google Insights metrics",
        "setup_steps": [
          "Claim and verify Google Business Profile",
          "Upload high-quality photos (menu, interior, food)",
          "Add complete business info and attributes",
          "Encourage reviews from recent customers",
          "Post weekly updates (specials, events, hours)",
          "Monitor Google Insights for 8 weeks"
        ]
      }
    },
    {
      "id": "rest_delivery_menu_optimization",
      "title": "Delivery App Menu Optimization",
      "category": "Marketing",
      "type": "MARKETING",
      "description": "Optimize menu presentation and pricing on delivery platforms",
      "eligibility_rules": {
        "min_months": 2,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 10000,
        "mid": 25000,
        "high": 50000
      },
      "priority_weight": 0.95,
      "plan_schema": {
        "channel": "DoorDash, Uber Eats, or similar platforms",
        "target_audience": "Delivery customers within service radius",
        "timing_window": "4-week test period",
        "offer_type": "Menu restructuring, not necessarily price changes",
        "budget_range": "$0-$500 (photos, descriptions)",
        "success_metric": "10% increase in delivery orders, improved order value",
        "test_design": "A/B test menu layouts and descriptions",
        "setup_steps": [
          "Audit current delivery menu performance",
          "Simplify menu (remove low performers)",
          "Add professional photos for top items",
          "Optimize descriptions with keywords",
          "Test combo/bundle offerings",
          "Track order volume and average ticket for 4 weeks"
        ]
      }
    },
    {
      "id": "rest_promo_guardrails",
      "title": "Implement Promotion Guardrails",
      "category": "Marketing",
      "type": "DISCOUNT_CONTROL",
      "description": "Establish rules for discount usage to protect margins",
      "eligibility_rules": {
        "min_months": 2,
        "requires_data": ["REVENUE"]
      },
      "sizing_method": "fixed_value",
      "sizing_params": {
        "low": 8000,
        "mid": 18000,
        "high": 35000
      },
      "priority_weight": 1.05,
      "plan_schema": {
        "channel": "All promotional channels",
        "target_audience": "Internal team (manager training)",
        "timing_window": "Immediate implementation, ongoing monitoring",
        "offer_type": "Policy and tracking system for discounts",
        "budget_range": "$0-$200 (training materials)",
        "success_metric": "Reduce discount rate by 1-2%, maintain volume",
        "test_design": "Before/after analysis of discount impact",
        "setup_steps": [
          "Audit current discount usage and margin impact",
          "Set maximum discount thresholds by scenario",
          "Require approval for discounts above threshold",
          "Implement tracking in POS",
          "Train managers on new policy",
          "Monitor weekly discount rate for 8 weeks"
        ]
      }
    }
  ],
  "default_assumptions": {
    "min_confidence_for_ops_mode": 0.7,
    "min_confidence_for_pnl_mode": 0.6,
    "max_initiatives_directional": 3,
    "max_initiatives_ops": 5,
    "max_initiatives_pnl": 7,
    "months_for_trend": 6,
    "outlier_std_threshold": 2.5
  },
  "sandbox_rules": {
    "enabled_by_default": false,
    "max_sandbox_initiatives": 2,
    "min_risk_tolerance": "moderate",
    "required_conditions": [
      "Marketing channels identified",
      "Risk tolerance moderate or higher"
    ],
    "default_confidence": "MEDIUM",
    "focus_areas": [
      "Local marketing experiments",
      "Customer engagement tests",
      "Digital channel optimization",
      "Partnership opportunities"
    ]
  }
}
